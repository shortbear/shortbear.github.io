{"version":3,"file":"component---src-templates-how-to-jsx-8a22c2fbfafed026ec20.js","mappings":"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","sources":["webpack://short-bear/./src/components/Prose.jsx","webpack://short-bear/./src/components/Seo.jsx","webpack://short-bear/./src/utils/youTube.js","webpack://short-bear/./src/components/YouTubeEmbed.jsx","webpack://short-bear/./src/utils/markdownToHtml.js","webpack://short-bear/./src/utils/richSnippets.js","webpack://short-bear/./src/templates/how-to.jsx","webpack://short-bear/./src/utils/formatDateTime.js"],"sourcesContent":["import React from 'react'\nimport clsx from 'clsx'\n\nexport function Prose({ children, className }) {\n  return (\n    <div className={clsx(className, 'prose dark:prose-invert')}>{children}</div>\n  )\n}\n","import React from \"react\";\n\nconst Seo = ({title, description, snippet}) => {\n  return (\n    <>\n      <title>{title}</title>\n      <meta\n          name=\"description\"\n          content={description}\n        />\n      {snippet ? <script type=\"application/ld+json\">{JSON.stringify(snippet)}</script> : null}\n    </>\n  )\n}\n\nexport default Seo;","export const extractIdFromUrl = (url) => url.match(/^https:\\/\\/youtu.be\\/(.+)$/)[1]\n\nexport const contentUrl = (url) => `https://www.youtube.com/watch?v=${extractIdFromUrl(url)}`\n\nexport const embedUrl = (url) => `https://www.youtube.com/embed/${extractIdFromUrl(url)}`","import React from \"react\";\nimport { embedUrl } from \"../utils/youTube\";\n\nconst YouTubeEmbed = ({url}) => {\n  if (!/embed/.test(url)) {\n    url = embedUrl(url);\n  }\n  return (\n    <iframe width=\"560\" height=\"315\" src={`${url}?controls=0`} title=\"YouTube video player\" frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\n  )\n}\n\nexport default YouTubeEmbed;","import showdown from \"showdown\";\n\nconst markdownToHtml = (markdown) => {\n  const converter = new showdown.Converter()\n  return converter.makeHtml(markdown);\n}\n\nexport default markdownToHtml;","import markdownToHtml from \"./markdownToHtml\";\nimport { roundToMinutes } from \"./formatDateTime\";\nimport { contentUrl, embedUrl } from \"./youTube\";\n\nconst faqToSnippet = (faq) => (\n  {\n    \"@type\": \"Question\",\n    \"name\": faq.question,\n    \"acceptedAnswer\": {\n      \"@type\": \"Answer\",\n      \"text\": markdownToHtml(faq.seo_answer)\n    }\n  }\n)\n\nexport const faqsToSnippet = (faqs) => {\n  const obj = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"FAQPage\",\n    \"mainEntity\": faqs.map(faqToSnippet)\n  }\n  return JSON.stringify(obj);\n}\n\nconst createStepToSnippet = (slug) => {\n  const stepToSnippet = ({name, text, image}, i) => {\n    console.log({i});\n    image = `https://shortbear.com/images/${image}`\n    return {\n      \"@type\": \"HowToStep\",\n      \"url\": `https://shortbear.com${slug}#step${i}`,\n      name,\n      text,\n      image,\n      video: {\n        \"@id\": `step${i}`\n      }\n    }\n  }\n  return stepToSnippet\n}\n\nconst formatDuration = (duration) => `PT${roundToMinutes(duration)}M`\n\nconst createStepToClip = (url) => {\n  const stepToClip = ({clip, name}, i) => {\n    const { endOffset, startOffset } = clip;\n    return {\n      \"@type\": \"Clip\",\n      \"@id\": `step${i}`,\n      name,\n      startOffset,\n      endOffset,\n      url: `${url}&t=${startOffset}`\n    }\n  }\n  return stepToClip\n}\n\nexport const howToToSnippet = (howTo) => {\n  const {date, excerpt, image, steps, title, video} = howTo.frontmatter;\n  const {slug} = howTo.fields;\n  const stepToClip = createStepToClip(contentUrl(video.url))\n  const stepToSnippet = createStepToSnippet(slug)\n  const obj = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"HowTo\",\n    \"name\": title,\n    \"totalTime\": formatDuration(video.duration),\n    \"image\": {\n      \"@type\": \"ImageObject\",\n      \"url\": `https://shortbear.com/images/${image}`,\n    },\n    \"video\": {\n      \"@type\": \"VideoObject\",\n      \"name\": title,\n      \"description\": excerpt,\n      \"thumbnailUrl\": `https://shortbear.com/images/${video.thumbnailUrl}`,\n      \"contentUrl\": contentUrl(video.url),\n      \"embedUrl\": embedUrl(video.url),\n      \"uploadDate\": date,\n      \"duration\": formatDuration(video.duration),\n      \"hasPart\": steps.map(stepToClip)\n    },\n    \"step\": steps.map(stepToSnippet)\n  }\n  return obj;\n}\n\n","import React from \"react\";\nimport { Link, graphql } from \"gatsby\";\nimport Seo from \"../components/Seo\";\nimport { Container } from '../components/Container'\nimport { Prose } from '../components/Prose'\nimport YouTubeEmbed from \"../components/YouTubeEmbed\";\nimport { formatDate, roundToMinutes } from '../utils/formatDateTime'\nimport { howToToSnippet } from '../utils/richSnippets'\nimport markdownToHtml from \"../utils/markdownToHtml\";\n\nfunction ArrowLeftIcon(props) {\n  return (\n    <svg viewBox=\"0 0 16 16\" fill=\"none\" aria-hidden=\"true\" {...props}>\n      <path\n        d=\"M7.25 11.25 3.75 8m0 0 3.5-3.25M3.75 8h8.5\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  )\n}\n\nexport const Head = ({ data }) => {\n  const { howTo } = data;\n  return (\n    <Seo \n      title={howTo.frontmatter.title} \n      description={howTo.frontmatter.excerpt} \n      snippet={howToToSnippet(howTo)}\n    />\n  )\n}\n\nconst HowTo = ({ data }) => {\n  const {howTo} = data;\n  return (\n    <>\n      <Container className=\"mt-16 lg:mt-32\">\n        <div className=\"xl:relative\">\n          <div className=\"mx-auto max-w-2xl\">\n            <Link\n              to={`/${howTo.frontmatter.category}`}\n              aria-label=\"Go back to articles\"\n              className=\"group mb-8 flex h-10 w-10 items-center justify-center rounded-full bg-white shadow-md shadow-zinc-800/5 ring-1 ring-zinc-900/5 transition dark:border dark:border-zinc-700/50 dark:bg-zinc-800 dark:ring-0 dark:ring-white/10 dark:hover:border-zinc-700 dark:hover:ring-white/20 lg:absolute lg:-left-5 lg:mb-0 lg:-mt-2 xl:-top-1.5 xl:left-0 xl:mt-0\"\n            >\n              <ArrowLeftIcon className=\"h-4 w-4 stroke-zinc-500 transition group-hover:stroke-zinc-700 dark:stroke-zinc-500 dark:group-hover:stroke-zinc-400\" />\n            </Link>\n            <article>\n              <header className=\"flex flex-col\">\n                <h1 className=\"mt-6 text-4xl font-bold tracking-tight text-zinc-800 dark:text-zinc-100 sm:text-5xl\">\n                  {howTo.frontmatter.title}\n                </h1>\n                <time\n                  dateTime={howTo.frontmatter.date}\n                  className=\"order-first flex items-center text-base text-zinc-400 dark:text-zinc-500\"\n                >\n                  <span className=\"h-4 w-0.5 rounded-full bg-zinc-200 dark:bg-zinc-500\" />\n                  <span className=\"ml-3\">{formatDate(howTo.frontmatter.date)}</span>\n                </time>\n              </header>\n              <Prose className=\"mt-8\">\n                <h2>TL;DR</h2>\n                \n                <p>Watch this {roundToMinutes(howTo.frontmatter.video.duration)} minute clip. Scroll down to see each step with code samples.</p>\n\n                <YouTubeEmbed url={howTo.frontmatter.video.url} />\n\n                {howTo.frontmatter.steps.map((s, i) => (\n                  <div key={i} id={`step${i}`}>\n                    <h2>Step {i+1}: {s.name}</h2>\n                    <p>{s.text}</p>\n                    <div dangerouslySetInnerHTML={{__html: markdownToHtml(s.body)}} />\n                  </div>\n                ))}\n              </Prose>\n            </article>\n          </div>\n        </div>\n      </Container>\n    </>\n  )\n}\n\nexport default HowTo;\n\nexport const pageQuery = graphql`\nquery HowToById($id: String!) {\n  howTo: markdownRemark(id: {eq: $id}, frontmatter: {templateKey: {eq: \"how-to\"}}) {\n    id\n    fields {\n      slug\n    }\n    frontmatter {\n      title\n      category\n      image\n      excerpt\n      date\n      video {\n        name\n        url\n        thumbnailUrl\n        duration\n      }\n      steps {\n        name\n        text\n        image\n        clip {\n          startOffset\n          endOffset\n        }\n        body\n      }\n    }\n  }\n}\n`","export const formatDate = (dateString) => {\n  return new Date(dateString).toLocaleDateString('en-US', {\n    day: 'numeric',\n    month: 'long',\n    year: 'numeric',\n    timeZone: 'UTC',\n  })\n}\n\nexport const roundToMinutes = (seconds) => {\n  return Math.floor(seconds / 60) + 1;\n}"],"names":["Prose","children","className","clsx","title","description","snippet","name","content","type","JSON","stringify","extractIdFromUrl","url","match","contentUrl","embedUrl","test","width","height","src","frameBorder","allow","allowFullScreen","markdown","showdown","makeHtml","formatDuration","duration","roundToMinutes","howToToSnippet","howTo","frontmatter","date","excerpt","image","steps","video","slug","fields","stepToClip","i","clip","endOffset","startOffset","stepToSnippet","text","console","log","createStepToSnippet","thumbnailUrl","map","ArrowLeftIcon","props","viewBox","fill","d","strokeWidth","strokeLinecap","strokeLinejoin","Head","data","Seo","Container","Link","to","category","dateTime","formatDate","s","key","id","dangerouslySetInnerHTML","__html","markdownToHtml","body","dateString","Date","toLocaleDateString","day","month","year","timeZone","seconds","Math","floor"],"sourceRoot":""}